(this.webpackJsonpweatherteller=this.webpackJsonpweatherteller||[]).push([[0],{33:function(e,t,a){e.exports=a(78)},35:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(1),s=a(2),l=a(4),o=a(3),i=a(5),u=(a(35),a(7)),p=(a(43),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"nav mb3 shadow-5"},"React Weather App")}}]),t}(r.a.Component)),m=a(17),h=a.n(m),f=a(29),d=(a(45),a(13)),b=a(10),v=a.n(b),O=a(30),y=a.n(O),E="FETCH_DATA",j="START_LOADING",g="CLEAR_RECENT";a(72);var N=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loader shadow-1"})}}]),t}(r.a.Component),w=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(o.a)(t).call(this))).state={query:""},e}return Object(i.a)(t,e),Object(s.a)(t,[{key:"setQuery",value:function(e){this.setState({query:e})}},{key:"search",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.query,console.log(t),""!==t){e.next=6;break}d.ToastsStore.info("Search cannot be empty!"),e.next=9;break;case 6:return e.next=8,this.props.startLoading();case 8:this.props.fetchQuery(t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"container pa2 br4"},r.a.createElement("input",{className:"inp shadow-5 w-60",placeholder:"city or zipcode",type:"search",onChange:function(t){return e.setQuery(t.target.value)},onKeyPress:function(t){"Enter"===t.key&&e.search()}}),r.a.createElement("button",{onClick:function(){return e.search()},className:"btn ml2 shadow-5 pa2 grow"},"Search")),this.props.loading?r.a.createElement("div",{className:"loaderContainer"},r.a.createElement(N,null)):r.a.createElement("div",{className:"loaderContainer pa4"}),r.a.createElement(d.ToastsContainer,{store:d.ToastsStore}))}}]),t}(r.a.Component);var k=Object(u.b)((function(e){return{result:e.result,loading:e.loading}}),{fetchQuery:function(e){return function(t){var a="https://openweathermap.org/data/2.5/find?q=".concat(e,"&type=like&sort=population&cnt=30&appid=b6907d289e10d714a6e88b30761fae22");return y.a.get(a).then((function(e){var a;console.log("fetch res is ",e),t((a=e.data,{type:E,data:a}))})).catch((function(e){throw e}))}},startLoading:function(){return{type:j}}})(w),C=(a(73),a(74),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.value,t=e.name,a=e.main,n=e.wind,c=e.sys,s=e.clouds;a.temp>273&&(a.temp_max=(a.temp_max-273.15).toFixed(1),a.temp=(a.temp-273.15).toFixed(1));var l=this.props.value.weather[0];return r.a.createElement("div",{className:"card pa1 br3"},r.a.createElement("span",{className:"name f6"},t,", ",c.country,r.a.createElement("img",{className:"ml2 mr2",src:"http://openweathermap.org/images/flags/".concat(c.country.toLowerCase(),".png"),alt:"country"}),r.a.createElement("span",{style:{color:"lightblue"},className:"badge f7 mr2"},a.temp," \xb0\u0421"),l.main),r.a.createElement("span",{className:"detail f6"},r.a.createElement("span",{className:"minmax br4"},r.a.createElement("span",{className:"f6"},"Max temp: ",r.a.createElement("span",{className:"badge f7"},a.temp_max," \xb0\u0421")," "),r.a.createElement("span",{className:"f6"},"Clouds : ",s.all,"%")),r.a.createElement("br",null),r.a.createElement("span",{className:"minmax br4"},r.a.createElement("span",{className:"f6"}," Wind: ",n.speed," m/s "),r.a.createElement("span",{className:"f6"}," Humidity : ",a.humidity," "))))}}]),t}(r.a.Component)),S=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log("cardlist props",this.props),r.a.createElement("div",{className:"cList"},!v.a.isNil(this.props.result.list)&&this.props.result.list.map((function(e,t){return r.a.createElement(C,{key:t,value:e})})))}}]),t}(r.a.Component);var x=Object(u.b)((function(e){return{result:e.result}}),null)(S),_=(a(75),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log("recent props",this.props),r.a.createElement("div",{className:"rList"},!v.a.isNil(this.props.recent)&&this.props.recent.map((function(e,t){return r.a.createElement(C,{key:t,value:e})})))}}]),t}(r.a.Component));var T=Object(u.b)((function(e){return{recent:e.recent}}),null)(_),L=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(k,null),r.a.createElement(x,null),r.a.createElement("div",{className:"main"},r.a.createElement("span",{className:"pa2 f5",style:{display:"flex",justifyContent:"space-between",color:"lightblue",background:"black"}},"Past Searches:",r.a.createElement("p",{onClick:function(){return e.props.clearRecent()},className:"f5 grow"},"Clear ")),r.a.createElement(T,null)))}}]),t}(r.a.Component),I=Object(u.b)(null,{clearRecent:function(){return{type:g}}})(L),R=a(12),A=a.n(R),q=a(9),D=a(32);var J=Object(q.c)({result:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.data;default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case j:return!0;case E:return!1;default:return e}},recent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var a=t.data.list[0];return console.log("recent data is",a),v.a.isNil(a)?e:e.find((function(e){return e.id===a.id}))?e:(e.unshift(a),e.length>3&&e.pop(),localStorage.setItem("recent",JSON.stringify(e)),Object(D.a)(e));case g:return localStorage.removeItem("recent"),[];default:return localStorage.getItem("recent")&&(e=JSON.parse(localStorage.getItem("recent"))),e}}}),Q=a(31),F=(a(76),a(77),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.d),P=Object(q.e)(J,F(Object(q.a)(Q.a)));A.a.render(r.a.createElement(u.a,{store:P},r.a.createElement(I,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.8fdf3308.chunk.js.map